<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Token Ranking</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 Token Ranking</h1>
        </div>

        <div class="main-controls">
            <div class="presets-section">
                <h3>📊 Quick Presets</h3>
                <div class="preset-grid">
                    <button class="preset-card trending" onclick="applyPreset('trending')">
                        <div class="preset-icon">📈</div>
                        <div class="preset-title">Trending</div>
                    </button>
                    <button class="preset-card popular" onclick="applyPreset('popular')">
                        <div class="preset-icon">🔥</div>
                        <div class="preset-title">Popular</div>
                    </button>
                    <button class="preset-card new" onclick="applyPreset('new')">
                        <div class="preset-icon">✨</div>
                        <div class="preset-title">New Tokens</div>
                    </button>
                </div>
            </div>

            <div class="ranking-builder">
                <h3>🎯 Custom Ranking Builder (24h time frame) - Click Apply Ranking to update data</h3>
                
                <div class="ranking-list" id="ranking-list">
                    <div class="ranking-item">
                        <div class="ranking-number">1</div>
                        <div class="ranking-controls">
                            <select class="attribute-select" data-index="0">
                                <option value="">Select attribute...</option>
                                <option value="change24">💹 Price Change 24h</option>
                                <option value="volume24">📊 Volume 24h</option>
                                <option value="volumeChange24">📈 Volume Change 24h</option>
                                <option value="marketCap">🏢 Market Cap</option>
                                <option value="liquidity">💧 Liquidity</option>
                                <option value="txnCount24">🔄 Transactions 24h</option>
                                <option value="uniqueTransactions24">👥 Unique Transactions 24h</option>
                                <option value="uniqueBuys24">🛒 Unique Buys 24h</option>
                                <option value="uniqueSells24">💸 Unique Sells 24h</option>
                                <option value="buyVolume24">💚 Buy Volume 24h</option>
                                <option value="sellVolume24">❤️ Sell Volume 24h</option>
                                <option value="buyCount24">📥 Buy Count 24h</option>
                                <option value="sellCount24">📤 Sell Count 24h</option>
                                <option value="holders">👤 Holders</option>
                                <option value="createdAt">📅 Creation Date</option>
                                <option value="priceUSD">💵 Current Price</option>
                                <option value="age">⏰ Token Age</option>
                                <option value="high24">⬆️ 24h High</option>
                                <option value="low24">⬇️ 24h Low</option>
                            </select>
                            <div class="direction-toggle" data-index="0">
                                <button class="direction-btn active" data-direction="DESC">
                                    <span class="direction-icon">⬇️</span>
                                    <span class="direction-label">High to Low</span>
                                </button>
                                <button class="direction-btn" data-direction="ASC">
                                    <span class="direction-icon">⬆️</span>
                                    <span class="direction-label">Low to High</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="ranking-actions">
                    <button class="apply-ranking-btn" onclick="applyCustomRanking()">🎯 Apply Ranking</button>
                    <button class="clear-ranking-btn" onclick="clearRanking()">🗑️ Clear</button>
                </div>
            </div>

            <div class="filters-section">
                <h3>🔍 Advanced Filters - Data will update when filter is modified.</h3>
                <div class="filter-tabs">
                    <button class="filter-tab active" data-tab="basic">Basic Filters</button>
                    <button class="filter-tab" data-tab="volume">Volume & Trading</button>
                    <button class="filter-tab" data-tab="price">Price & Changes</button>
                    <button class="filter-tab" data-tab="transactions">Transactions</button>
                    <button class="filter-tab" data-tab="time">Time & Age</button>
                    <button class="filter-tab" data-tab="advanced">Advanced</button>
                </div>

                <!-- Basic Filters Tab -->
                <div class="filter-content active" data-content="basic">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>💧 Min Liquidity</label>
                            <input type="number" id="min-liquidity" placeholder="10,000">
                            <span class="filter-hint">Minimum liquidity in USD</span>
                        </div>
                        <div class="filter-group">
                            <label>📊 Min Volume 24h</label>
                            <input type="number" id="min-volume24" placeholder="1,000">
                            <span class="filter-hint">Minimum daily trading volume</span>
                        </div>
                        <div class="filter-group">
                            <label>🔄 Min Transactions 24h</label>
                            <input type="number" id="min-txnCount24" placeholder="10">
                            <span class="filter-hint">Minimum transaction count</span>
                        </div>
                        <div class="filter-group">
                            <label>🏢 Min Market Cap</label>
                            <input type="number" id="min-marketCap" placeholder="100,000">
                            <span class="filter-hint">Minimum market capitalization</span>
                        </div>
                        <div class="filter-group">
                            <label>👤 Min Holders</label>
                            <input type="number" id="min-holders" placeholder="50">
                            <span class="filter-hint">Minimum token holders</span>
                        </div>
                        <div class="filter-group">
                            <label>🌐 Network</label>
                            <select id="network-filter">
                                <option value="all" selected>🌍 All Networks</option>
                                <option value="1" >🔷 Ethereum</option>
                                <option value="56">🟡 BSC</option>
                                <option value="137">🟣 Polygon</option>
                                <option value="43114">🔴 Avalanche</option>
                                <option value="1399811149">🔵 Solana</option>
                                <option value="42161">🔶 Arbitrum</option>
                                <option value="10">🔴 Optimism</option>
                                <option value="8453">🔵 Base</option>
                                <option value="130">🔴 Unichain</option>
                                <option value="534352">🟣 Scroll</option>
                                <option value="81457">🔶 Blast</option>
                                <option value="59144">🔷 Linea</option>
                                <option value="5000">🔴 Mantle</option>
                                <option value="34443">🔶 Mode</option>
                            </select>
                            <span class="filter-hint">Blockchain network</span>
                        </div>
                    </div>
                </div>

                <!-- Volume & Trading Tab -->
                <div class="filter-content" data-content="volume">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>📈 Min Volume Change 24h (%)</label>
                            <input type="number" id="min-volumeChange24" placeholder="10" step="0.1">
                            <span class="filter-hint">Min 24h volume change percentage</span>
                        </div>
                        <div class="filter-group">
                            <label>💚 Min Buy Volume 24h</label>
                            <input type="number" id="min-buyVolume24" placeholder="1,000">
                            <span class="filter-hint">Min 24h buy volume</span>
                        </div>
                        <div class="filter-group">
                            <label>❤️ Max Sell Volume 24h</label>
                            <input type="number" id="max-sellVolume24" placeholder="50,000">
                            <span class="filter-hint">Max 24h sell volume</span>
                        </div>
                    </div>
                </div>

                <!-- Price & Changes Tab -->
                <div class="filter-content" data-content="price">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>💵 Min Current Price</label>
                            <input type="number" id="min-priceUSD" placeholder="0.01" step="0.000001">
                            <span class="filter-hint">Minimum current price in USD</span>
                        </div>
                        <div class="filter-group">
                            <label>💵 Max Current Price</label>
                            <input type="number" id="max-priceUSD" placeholder="1000" step="0.000001">
                            <span class="filter-hint">Maximum current price in USD</span>
                        </div>
                        <div class="filter-group">
                            <label>📈 Min Price Change 24h (%)</label>
                            <input type="number" id="min-change24" placeholder="5" step="0.01">
                            <span class="filter-hint">Min 24h price change percentage</span>
                        </div>
                        <div class="filter-group">
                            <label>📉 Max Price Change 24h (%)</label>
                            <input type="number" id="max-change24" placeholder="1000" step="0.01">
                            <span class="filter-hint">Max 24h price change percentage</span>
                        </div>
                    </div>
                </div>

                <!-- Transactions Tab -->
                <div class="filter-content" data-content="transactions">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>👥 Min Unique Transactions 24h</label>
                            <input type="number" id="min-uniqueTransactions24" placeholder="50">
                            <span class="filter-hint">Min 24h unique transactions</span>
                        </div>
                        <div class="filter-group">
                            <label>🛒 Min Unique Buys 24h</label>
                            <input type="number" id="min-uniqueBuys24" placeholder="20">
                            <span class="filter-hint">Min 24h unique buys</span>
                        </div>
                        <div class="filter-group">
                            <label>💸 Max Unique Sells 24h</label>
                            <input type="number" id="max-uniqueSells24" placeholder="100">
                            <span class="filter-hint">Max 24h unique sells</span>
                        </div>
                        <div class="filter-group">
                            <label>📥 Min Buy Count 24h</label>
                            <input type="number" id="min-buyCount24" placeholder="20">
                            <span class="filter-hint">Min 24h buy count</span>
                        </div>
                        <div class="filter-group">
                            <label>📤 Max Sell Count 24h</label>
                            <input type="number" id="max-sellCount24" placeholder="100">
                            <span class="filter-hint">Max 24h sell count</span>
                        </div>
                    </div>
                </div>

                <!-- Time & Age Tab -->
                <div class="filter-content" data-content="time">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>⏰ Min Token Age (days)</label>
                            <input type="number" id="min-age" placeholder="1">
                            <span class="filter-hint">Minimum token age in days</span>
                        </div>
                        <div class="filter-group">
                            <label>⏰ Max Token Age (days)</label>
                            <input type="number" id="max-age" placeholder="365">
                            <span class="filter-hint">Maximum token age in days</span>
                        </div>
                        <div class="filter-group">
                            <label>📅 Created After</label>
                            <input type="datetime-local" id="min-createdAt">
                            <span class="filter-hint">Token created after this date</span>
                        </div>
                        <div class="filter-group">
                            <label>📅 Created Before</label>
                            <input type="datetime-local" id="max-createdAt">
                            <span class="filter-hint">Token created before this date</span>
                        </div>
                    </div>
                </div>

                <!-- Advanced Tab -->
                <div class="filter-content" data-content="advanced">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>🧓 Min Wallet Age Avg (days)</label>
                            <input type="number" id="min-walletAgeAvg" placeholder="30">
                            <span class="filter-hint">Min average wallet age in days</span>
                        </div>
                        <div class="filter-group">
                            <label>📊 Max 1d Old Wallet %</label>
                            <input type="number" id="max-swapPct1dOldWallet" placeholder="50" step="0.1">
                            <span class="filter-hint">Max % of 1-day-old wallets</span>
                        </div>
                        <div class="filter-group">
                            <label>📊 Max 7d Old Wallet %</label>
                            <input type="number" id="max-swapPct7dOldWallet" placeholder="70" step="0.1">
                            <span class="filter-hint">Max % of 7-day-old wallets</span>
                        </div>
                    </div>
                </div>

                <div class="filter-actions">
                    <div class="filter-actions-left">
                        <span class="results-per-page-label">📄 Results per page:</span>
                        <select id="results-per-page">
                            <option value="25">25</option>
                            <option value="50" selected>50</option>
                            <option value="100">100</option>
                            <option value="200">200</option>
                        </select>
                    </div>
                    <div class="filter-actions-right">
                        <button class="clear-filters-btn" onclick="clearAllFilters()">🗑️ Clear All Filters</button>
                        <button class="refresh-btn" onclick="fetchTokens()">🔄 Apply Filters</button>
                        <span class="filter-hint api-status" id="api-status">Ready to fetch data</span>
                    </div>
                </div>
            </div>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h3>📋 Results</h3>
                <div class="pagination-controls">
                    <button onclick="goToFirstPage()" id="first-btn">⏮️ First</button>
                    <button onclick="changePage(-1)" id="prev-btn">⬅️ Prev</button>
                    <span class="page-info" id="page-info">Page 1</span>
                    <button onclick="changePage(1)" id="next-btn">➡️ Next</button>
                    <button onclick="goToLastPage()" id="last-btn">⏭️ Last</button>
                </div>
            </div>

            <div class="table-container">
                <table class="tokens-table">
                    <thead>
                        <tr>
                            <th>🏆 Rank</th>
                            <th>🪙 Token</th>
                            <th>💵 Price</th>
                            <th>📈 24h Change</th>
                            <th>📊 Volume 24h</th>
                            <th>📈 Vol Change 24h</th>
                            <th>🏢 Market Cap</th>
                            <th>💧 Liquidity</th>
                            <th>🔄 Txns 24h</th>
                            <th>👥 Unique Txns 24h</th>
                            <th>🛒 Unique Buys 24h</th>
                            <th>💸 Unique Sells 24h</th>
                            <th>📥 Buy Count 24h</th>
                            <th>📤 Sell Count 24h</th>
                            <th>💚 Buy Volume 24h</th>
                            <th>❤️ Sell Volume 24h</th>
                            <th>👤 Holders</th>
                            <th>⏰ Age</th>
                            <th>🧓 Wallet Age Avg</th>
                            <th>📊 1d Old Wallets %</th>
                            <th>📊 7d Old Wallets %</th>
                            <th>🔗 Link</th>
                        </tr>
                    </thead>
                    <tbody id="tokens-table-body">
                        <tr><td colspan="22" class="loading">🔄 Loading tokens...</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="pagination-footer">
                <div class="pagination-info" id="pagination-info">Showing 0 of 0 tokens</div>
                <div class="pagination-controls">
                    <button onclick="goToFirstPage()">⏮️ First</button>
                    <button onclick="changePage(-1)" id="prev-btn-footer">⬅️ Previous</button>
                    <span id="page-display">Page 1</span>
                    <button onclick="changePage(1)" id="next-btn-footer">Next ➡️</button>
                    <button onclick="goToLastPage()">Last ⏭️</button>
                </div>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="app.js"></script>
</body>
</html>