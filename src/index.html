<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Token Ranking</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 Token Ranking</h1>
        </div>

        <div class="main-controls">
            <div class="presets-section">
                <h3>📊 Quick Presets</h3>
                <div class="preset-grid">
                    <button class="preset-card trending" onclick="applyPreset('trending')">
                        <div class="preset-icon">📈</div>
                        <div class="preset-title">Trending</div>
                        <div class="preset-desc">Price momentum + volume spikes</div>
                    </button>
                    <button class="preset-card popular" onclick="applyPreset('popular')">
                        <div class="preset-icon">🔥</div>
                        <div class="preset-title">Popular</div>
                        <div class="preset-desc">High volume + market cap</div>
                    </button>
                    <button class="preset-card new" onclick="applyPreset('new')">
                        <div class="preset-icon">✨</div>
                        <div class="preset-title">New Tokens</div>
                        <div class="preset-desc">Recently created + early volume</div>
                    </button>
                </div>
            </div>

            <div class="ranking-builder">
                <h3>🎯 Custom Ranking Builder (24h time frame)</h3>
                
                <div class="ranking-list" id="ranking-list">
                    <div class="ranking-item">
                        <div class="ranking-number">1</div>
                        <div class="ranking-controls">
                            <select class="attribute-select" data-index="0">
                                <option value="">Select attribute...</option>
                                <option value="change24">💹 Price Change 24h</option>
                                <option value="volume24">📊 Volume 24h</option>
                                <option value="volumeChange24">📈 Volume Change 24h</option>
                                <option value="marketCap">🏢 Market Cap</option>
                                <option value="liquidity">💧 Liquidity</option>
                                <option value="txnCount24">🔄 Transactions 24h</option>
                                <option value="uniqueTransactions24">👥 Unique Transactions 24h</option>
                                <option value="uniqueBuys24">🛒 Unique Buys 24h</option>
                                <option value="uniqueSells24">💸 Unique Sells 24h</option>
                                <option value="buyVolume24">💚 Buy Volume 24h</option>
                                <option value="sellVolume24">❤️ Sell Volume 24h</option>
                                <option value="buyCount24">📥 Buy Count 24h</option>
                                <option value="sellCount24">📤 Sell Count 24h</option>
                                <option value="holders">👤 Holders</option>
                                <option value="createdAt">📅 Creation Date</option>
                                <option value="priceUSD">💵 Current Price</option>
                                <option value="age">⏰ Token Age</option>
                                <option value="high24">⬆️ 24h High</option>
                                <option value="low24">⬇️ 24h Low</option>
                            </select>
                            <div class="direction-toggle" data-index="0">
                                <button class="direction-btn active" data-direction="DESC">
                                    <span class="direction-icon">⬇️</span>
                                    <span class="direction-label">High to Low</span>
                                </button>
                                <button class="direction-btn" data-direction="ASC">
                                    <span class="direction-icon">⬆️</span>
                                    <span class="direction-label">Low to High</span>
                                </button>
                            </div>
                        </div>
                        <button class="remove-ranking" onclick="removeRanking(0)" style="display: none;">❌</button>
                    </div>
                </div>
                
                <div class="ranking-actions">
                    <button class="add-ranking-btn" onclick="addRanking()">➕ Add Another Ranking</button>
                    <button class="apply-ranking-btn" onclick="applyCustomRanking()">🎯 Apply Custom Ranking</button>
                    <button class="clear-ranking-btn" onclick="clearAllRankings()">🗑️ Clear All</button>
                </div>
            </div>

            <div class="filters-section">
                <h3>🔍 Advanced Filters</h3>
                <div class="filter-tabs">
                    <button class="filter-tab active" data-tab="basic">Basic Filters</button>
                </div>

                <!-- Basic Filters Tab -->
                <div class="filter-content active" data-content="basic">
                    <div class="filters-grid">
                        <div class="filter-group">
                            <label>💧 Min Liquidity</label>
                            <input type="number" id="min-liquidity" placeholder="10,000">
                            <span class="filter-hint">Minimum liquidity in USD</span>
                        </div>
                        <div class="filter-group">
                            <label>📊 Min Volume 24h</label>
                            <input type="number" id="min-volume24" placeholder="1,000">
                            <span class="filter-hint">Minimum daily trading volume</span>
                        </div>
                        <div class="filter-group">
                            <label>🔄 Min Transactions 24h</label>
                            <input type="number" id="min-txnCount24" placeholder="10">
                            <span class="filter-hint">Minimum transaction count</span>
                        </div>
                        <div class="filter-group">
                            <label>🏢 Min Market Cap</label>
                            <input type="number" id="min-marketCap" placeholder="100,000">
                            <span class="filter-hint">Minimum market capitalization</span>
                        </div>
                        <div class="filter-group">
                            <label>👤 Min Holders</label>
                            <input type="number" id="min-holders" placeholder="50">
                            <span class="filter-hint">Minimum token holders</span>
                        </div>
                        <div class="filter-group">
                            <label>🌐 Network</label>
                            <select id="network-filter">
                                <option value="all" selected>🌍 All Networks</option>
                                <option value="1" >🔷 Ethereum</option>
                                <option value="56">🟡 BSC</option>
                                <option value="137">🟣 Polygon</option>
                                <option value="43114">🔴 Avalanche</option>
                                <option value="1399811149">🔵 Solana</option>
                                <option value="42161">🔶 Arbitrum</option>
                                <option value="10">🔴 Optimism</option>
                                <option value="8453">🔵 Base</option>
                                <option value="130">🔴 Unichain</option>
                                <option value="534352">🟣 Scroll</option>
                                <option value="81457">🔶 Blast</option>
                                <option value="59144">🔷 Linea</option>
                                <option value="5000">🔴 Mantle</option>
                                <option value="34443">🔶 Mode</option>
                            </select>
                            <span class="filter-hint">Blockchain network</span>
                        </div>
                    </div>
                </div>

                <div class="filter-actions">
                    <div class="filter-actions-left">
                        <span class="results-per-page-label">📄 Results per page:</span>
                        <select id="results-per-page">
                            <option value="25">25</option>
                            <option value="50" selected>50</option>
                            <option value="100">100</option>
                            <option value="200">200</option>
                        </select>
                    </div>
                    <div class="filter-actions-right">
                        <button class="clear-filters-btn" onclick="clearAllFilters()">🗑️ Clear All Filters</button>
                        <button class="refresh-btn" onclick="fetchTokens()">🔄 Apply Filters</button>
                        <span class="filter-hint api-status" id="api-status">Ready to fetch data</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h3>📋 Results</h3>
                <div class="pagination-controls">
                    <button onclick="goToFirstPage()" id="first-btn">⏮️ First</button>
                    <button onclick="changePage(-1)" id="prev-btn">⬅️ Prev</button>
                    <span class="page-info" id="page-info">Page 1</span>
                    <button onclick="changePage(1)" id="next-btn">➡️ Next</button>
                    <button onclick="goToLastPage()" id="last-btn">⏭️ Last</button>
                </div>
            </div>

            <div class="table-container">
                <table class="tokens-table">
                    <thead>
                        <tr>
                            <th>🏆 Rank</th>
                            <th>🪙 Token</th>
                            <th>💵 Price</th>
                            <th>📈 24h Change</th>
                            <th>📊 Volume 24h</th>
                            <th>🏢 Market Cap</th>
                            <th>💧 Liquidity</th>
                            <th>🔄 Txns</th>
                            <th>🛒 Buyers</th>
                            <th>💸 Sellers</th>
                            <th>⏰ Age</th>
                            <th>🔗 Link</th>
                        </tr>
                    </thead>
                    <tbody id="tokens-table-body">
                        <tr><td colspan="12" class="loading">🔄 Loading tokens...</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="pagination-footer">
                <div class="pagination-info" id="pagination-info">Showing 0 of 0 tokens</div>
                <div class="pagination-controls">
                    <button onclick="goToFirstPage()">⏮️ First</button>
                    <button onclick="changePage(-1)" id="prev-btn-footer">⬅️ Previous</button>
                    <span id="page-display">Page 1</span>
                    <button onclick="changePage(1)" id="next-btn-footer">Next ➡️</button>
                    <button onclick="goToLastPage()">Last ⏭️</button>
                </div>
            </div>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="app.js"></script>
</body>
</html>